import{a as p,j as u,r as i,s as d,c as f,M as g,R as y,b}from"./vendor.5d8f4473.js";const v=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}};v();var w="/assets/income.ebd5fd7c.svg",x="/assets/outcome.25f97a81.svg",R="/assets/total.bb7e6e60.svg";const N=p.create({baseURL:"http://localhost:3000/api"}),e=u.exports.jsx,n=u.exports.jsxs,T=u.exports.Fragment,h=i.exports.createContext({});function D({children:c}){const[t,s]=i.exports.useState([]);return i.exports.useEffect(()=>{N.get("transactions").then(a=>s(a.data.transactions))},[]),e(h.Provider,{value:{transactions:t},children:c})}function m(){return i.exports.useContext(h)}const I=d.div``;function B(){const{transactions:c}=m(),t=c.reduce((s,a)=>(a.type==="deposit"?(s.deposits+=a.amount,s.total+=a.amount):(s.withdraws+=a.amount,s.total-=a.amount),s),{deposits:0,withdraws:0,total:0});return n(I,{children:[n("div",{children:[n("header",{children:[e("p",{children:"Entradas"}),e("img",{src:w,alt:"Entradas"})]}),e("strong",{children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t.deposits)})]}),n("div",{children:[n("header",{children:[e("p",{children:"Sa\xEDdas"}),e("img",{src:x,alt:"Saidas"})]}),e("strong",{children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t.withdraws)})]}),n("div",{className:"highlight-background",children:[n("header",{children:[e("p",{children:"Total"}),e("img",{src:R,alt:"Total"})]}),e("strong",{children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t.total)})]})]})}const L=d.div``;function C(){const{transactions:c}=m();return e(L,{children:n("table",{children:[e("thead",{children:n("tr",{children:[e("th",{children:"T\xEDtulo"}),e("th",{children:"Valor"}),e("th",{children:"Categoria"}),e("th",{children:"Data"})]})}),e("tbody",{children:c.map(t=>n("tr",{children:[e("td",{children:t.title}),e("td",{className:t.type,children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t.amount)}),e("td",{children:t.category}),e("td",{children:new Intl.DateTimeFormat("pt-BR").format(new Date(t.createdAt))})]},t.id))})]})})}function E(){return n(T,{children:[e(B,{}),e(C,{})]})}var F="/assets/logo.6c4298f6.svg";const M=d.header``,j=d.div``;function S(){return e(M,{role:"heading",children:n(j,{children:[e("img",{src:F,alt:"dt money"}),e("button",{type:"button",role:"button",children:"Nova transa\xE7\xE3o"})]})})}function A(){return e("h1",{children:"NewTransactionModal"})}function O(){return n(D,{children:[e(S,{}),e(E,{}),e(A,{})]})}function P(){f({models:{transaction:g},seeds(c){c.db.loadData({transactions:[{id:1,title:"Freelance de website",type:"deposit",category:"Dev",amount:6e3,createdAt:new Date("2021-02-12 09:00:00")},{id:2,title:"Aluguel",type:"withdraw",category:"Casa",amount:1100,createdAt:new Date("2021-02-14 11:00:00")}]})},routes(){this.namespace="api",this.get("/transactions",()=>this.schema.all("transaction"))}})}P();y.render(e(b.StrictMode,{children:e(O,{})}),document.getElementById("root"));
